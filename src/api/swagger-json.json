{"openapi":"3.0.0","paths":{"/api/users/{id}":{"get":{"operationId":"getUsersById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}},"tags":["User"]}},"/api/auth/login":{"post":{"operationId":"postLogin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginRequestDTO"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginResponseDTO"}}}}},"tags":["Auth"]}},"/api/auth/callback/google":{"post":{"operationId":"postGoogleAuth","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginGoogleRequestDTO"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginResponseDTO"}}}}},"tags":["Auth"]}},"/api/auth/logout":{"post":{"operationId":"postLogout","parameters":[],"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/auth/refresh":{"post":{"operationId":"postRefresh","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRefreshTokenRequestDTO"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthLoginResponseDTO"}}}}},"tags":["Auth"]}},"/api/auth/register":{"post":{"operationId":"register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRegisterRequestDTO"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/auth/forgot-password":{"post":{"operationId":"forgotPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthForgotPasswordRequestDTO"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthForgotPasswordResponseDTO"}}}}},"tags":["Auth"]}},"/api/auth/reset-password":{"post":{"operationId":"resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResetPasswordRequestDTO"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResetPasswordResponseDTO"}}}}},"tags":["Auth"]}},"/api/drinks/drinks-type":{"get":{"operationId":"getDrinksType","parameters":[],"responses":{"200":{"description":"Liste des types de boissons r√©cup√©r√©e avec succ√®s","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DrinkTypeDTO"}}}}}},"summary":"R√©cup√©rer tous les types de boissons","tags":["Drinks"]}},"/api/drinks/{userId}":{"get":{"operationId":"getDrinksByUserId","parameters":[{"name":"userId","required":true,"in":"path","description":"ID de l'utilisateur","schema":{"example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}},{"name":"drink_date_gte","required":false,"in":"query","description":"Date minimum (YYYY-MM-DD)","schema":{"example":"2024-02-01","type":"string"}},{"name":"drink_date_lte","required":false,"in":"query","description":"Date maximum (YYYY-MM-DD)","schema":{"example":"2024-02-15","type":"string"}},{"name":"type","required":false,"in":"query","description":"Type de boisson (slug)","schema":{"example":"eau","type":"string"}}],"responses":{"200":{"description":"Boissons r√©cup√©r√©es avec succ√®s","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDrinksByUserIdDTO"}}}},"401":{"description":"Non autoris√©"},"404":{"description":"Aucune boisson trouv√©e"}},"summary":"R√©cup√©rer les boissons d'un utilisateur","tags":["Drinks"]}},"/api/drinks/{userId}/drinks-type-count":{"get":{"operationId":"getDrinkTypeCountByUserId","parameters":[{"name":"userId","required":true,"in":"path","description":"ID de l'utilisateur","schema":{"type":"string"}}],"responses":{"200":{"description":"Nombre de boissons par type r√©cup√©r√© avec succ√®s","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DrinkTypeCountDTO"}}}},"404":{"description":"Aucune consommation trouv√©e pour cet utilisateur"}},"summary":"R√©cup√©rer le nombre de boissons par type pour un utilisateur","tags":["Drinks"]}},"/api/drinks/{userId}/monthly-count":{"get":{"operationId":"getMonthlyDrinkCount","parameters":[{"name":"userId","required":true,"in":"path","description":"ID de l'utilisateur","schema":{"type":"string"}}],"responses":{"200":{"description":"Nombre de boissons consomm√©es par mois r√©cup√©r√© avec succ√®s","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MonthlyDrinkCountDTO"}}}},"404":{"description":"Aucune consommation trouv√©e pour cet utilisateur"}},"summary":"R√©cup√©rer le nombre de boissons consomm√©es par mois pour un utilisateur","tags":["Drinks"]}},"/api/drinks":{"post":{"operationId":"addDrink","parameters":[],"requestBody":{"required":true,"description":"Donn√©es de la boisson √† ajouter","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddDrinkDTO"}}}},"responses":{"200":{"description":"La boisson a √©t√© ajout√©e avec succ√®s","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DrinkDTO"}}}},"400":{"description":"Requ√™te invalide"},"401":{"description":"Non autoris√©"},"404":{"description":"Type de boisson non trouv√©"}},"summary":"Ajouter une nouvelle boisson","tags":["Drinks"]}}},"info":{"title":"BrewTrack API üçª","description":"","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"api-key":{"type":"apiKey","in":"header","name":"x-api-key"}},"schemas":{"UserDTO":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"profilePicture":{"type":"string","nullable":true},"createdAt":{"format":"date-time","type":"string"}},"required":["id","email","firstName","lastName","createdAt"]},"AuthLoginRequestDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"AuthLoginResponseDTO":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}},"required":["accessToken","refreshToken"]},"AuthLoginGoogleRequestDTO":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"]},"AuthRefreshTokenRequestDTO":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]},"AuthRegisterRequestDTO":{"type":"object","properties":{"firstName":{"type":"string","example":"John"},"lastName":{"type":"string","example":"Doe"},"email":{"type":"string","example":"user@example.com"},"password":{"type":"string","minLength":7,"maxLength":34}},"required":["firstName","lastName","email","password"]},"AuthForgotPasswordRequestDTO":{"type":"object","properties":{"email":{"type":"string","example":"user@example.com"}},"required":["email"]},"AuthForgotPasswordResponseDTO":{"type":"object","properties":{"message":{"type":"string","example":"Un email de r√©initialisation a √©t√© envoy√©."}},"required":["message"]},"AuthResetPasswordRequestDTO":{"type":"object","properties":{"token":{"type":"string","example":"your-reset-token"},"newPassword":{"type":"string","minLength":7,"maxLength":34,"example":"newpassword123"}},"required":["token","newPassword"]},"AuthResetPasswordResponseDTO":{"type":"object","properties":{"message":{"type":"string","example":"Mot de passe r√©initialis√© avec succ√®s"}},"required":["message"]},"DrinkTypeDTO":{"type":"object","properties":{"id":{"type":"string","description":"Identifiant unique du type de boisson","example":"123e4567-e89b-12d3-a456-426614174000"},"name":{"type":"string","description":"Nom du type de boisson","example":"Eau"},"slug":{"type":"string","description":"Slug du type de boisson (identifiant convivial)","example":"eau"}},"required":["id","name","slug"]},"DrinkDTO":{"type":"object","properties":{"drinkType":{"description":"Type de boisson","allOf":[{"$ref":"#/components/schemas/DrinkTypeDTO"}]},"drinkTypeId":{"type":"string","description":"Identifiant du type de boisson","example":"123e4567-e89b-12d3-a456-426614174000"},"litersConsumed":{"type":"number","description":"Quantit√© consomm√©e en litres","example":0.5,"minimum":0},"drinkDate":{"format":"date-time","type":"string","description":"Date de consommation","example":"2024-05-15T14:30:00Z"},"customType":{"type":"object","description":"Type de boisson personnalis√© (si applicable)","example":"Th√© √† la menthe","nullable":true},"userId":{"type":"string","description":"Identifiant de l'utilisateur","example":"123e4567-e89b-12d3-a456-426614174000"}},"required":["drinkType","drinkTypeId","litersConsumed","drinkDate","userId"]},"GetDrinksByUserIdDTO":{"type":"object","properties":{"userId":{"type":"string","description":"Identifiant de l'utilisateur","example":"123e4567-e89b-12d3-a456-426614174000"},"drinks":{"description":"Liste des boissons de l'utilisateur","type":"array","items":{"$ref":"#/components/schemas/DrinkDTO"}}},"required":["userId","drinks"]},"DrinkTypeCountDTO":{"type":"object","properties":{"drinkTypeCounts":{"type":"object","description":"Nom du type de boisson et son nombre d'occurrences","example":{"beer":5,"vodka":10},"additionalProperties":{"type":"number"}}},"required":["drinkTypeCounts"]},"MonthlyDrinkCountDTO":{"type":"object","properties":{"monthlyCounts":{"type":"object","description":"Nombre de boissons consomm√©es par mois","example":{"2023-01":5,"2023-02":8},"additionalProperties":{"type":"number"}}},"required":["monthlyCounts"]},"AddDrinkDTO":{"type":"object","properties":{"userId":{"type":"string","description":"Identifiant de l'utilisateur","example":"123e4567-e89b-12d3-a456-426614174000"},"drinkTypeSlug":{"type":"string","description":"Slug du type de boisson","example":"eau"},"litersConsumed":{"type":"number","description":"Quantit√© consomm√©e en litres","example":0.5,"minimum":0},"drinkDate":{"type":"string","description":"Date de consommation","example":"2024-05-15T14:30:00Z"},"customType":{"type":"string","description":"Type de boisson personnalis√© (si applicable)","example":"Th√© √† la menthe","nullable":true}},"required":["userId","drinkTypeSlug","litersConsumed","drinkDate"]}}}}